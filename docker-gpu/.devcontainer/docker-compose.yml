version: '3'
services:
    gpu:
        deploy:
            resources:
                reservations:
                    devices:
                        - driver: nvidia
                        - count: 1
                        - capabilities: [gpu]
        build:
            dockerfile: ./Dockerfile
        env_file:
            - ./.env.wslg
        restart: always
        working_dir: '/docker/home/hasegawa/docker-gpu/'
        tty: true
        image: 'gpu'
        container_name: 'gpu'
        volumes:
            - /:/docker
            - /mnt/wslg:/mnt/wslg
            - /tmp/.X11-unix:/tmp/.X11-unix

